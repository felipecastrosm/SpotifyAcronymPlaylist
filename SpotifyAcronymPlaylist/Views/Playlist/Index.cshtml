@using System.Web.UI.HtmlControls
@using System.Web.UI.WebControls
@using SpotifyWebAPI
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h3>Welcome, <a href="https://play.spotify.com/user/@ViewBag.UserId" target="_blank">@ViewBag.UserId</a>!</h3>
<h4>Here is the playlist we just generated, customized for you:</h4>

@if (ViewBag.AcronymPlaylist == null)
{
	<p>Whoops, we didn't find any Playlists with Tracks in your Spotify Account! Please create some Playlists or add some Tracks to your existing Playlists. We will use the songs on your Saved Playlists to create your Acronym Playlist.</p>
}
else
{
	<ul>
		@foreach (Track track in ViewBag.AcronymPlaylist)
		{
			<li><a href="http://open.spotify.com/track/@track.Id" target="_blank">@track.Name</a> by @Html.Raw(String.Join(", ", track.Artists.Select(a => "<a href=\"https://play.spotify.com/artist/" + a.Id + "\" target=\"_blank\">" + a.Name + "</a>")))</li>
		}
	</ul>
}
